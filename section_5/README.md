# 5.1 The dining savages problem

This problem is from Andrews’s Concurrent Programming^[1  Gregory R. Andrews. Concurrent Programming: Principles and Practice. Addison-Wesley, 1991.].
A tribe of savages eats communal dinners from a large pot that can hold **M** servings of stewed missionary^[2 This problem is based on a cartoonish representation of the history of western missionaries among hunter-gatherer societies. Some humor is intended by the allusion to the Dining Philosophers problem, but the representation of “savages” here isn’t intended to be any more realistic than the previous representation of philosophers. If you are interested in hunter-gatherer societies, I recommend Jared Diamond’s Guns, Germs and Steel, Napoleon Chagnon’s The Yanomamo, and Redmond O’Hanlon’s In Trouble Again, but not Tierney’s Darkness in El Dorado, which I believe is unreliable.]. When a savage wants to eat, he helps himself from the pot, unless it is empty. If the pot is empty, the savage wakes up the cook and then waits until the cook has refilled the pot. Any number of savage threads run the following code: